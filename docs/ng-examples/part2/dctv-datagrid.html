<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="../style/style.css">
  <link rel="stylesheet" href="../libs/bootstrap/dist/css/bootstrap.css" />
</head>
<body>

<div ng-app="app" class="container">
  <div ng-controller="ctrl">
    <datagrid-dctv data="news" sort="{{sort}}"></datagrid-dctv>
  </div>
</div>

<script src="../libs/angular/angular.js"></script>
<script>
  var app = angular.module('app', []);

  app.controller('ctrl', function($scope) {
    $scope.news = [
      {title: 'John', description: '7about John'},
      {title: 'Mike', description: '5about Mike'},
      {title: 'James', description: '4about James'},
      {title: 'Kirk', description: '2about Kirk'},
      {title: 'Lars', description: '3about Lars'},
      {title: 'Joe', description: '1about Joe'}
    ]
  })

  app.directive('datagridDctv', function(){
    return {
      restrict: "E",
      scope: {
        data: "="
      },
      template: "<table class=\"table table-striped table-bordered\">\n  <tr>\n    <th ng-click=\"sort == \'title\' && (reverseSort = !reverseSort) || (sort = \'title\') \">title</th>\n    <th ng-click=\"sort == \'description\' && (reverseSort = !reverseSort) || (sort = \'description\') \">description</th>\n  </tr>\n  <tr ng-repeat=\"item in data | orderBy:sort:reverseSort\">\n    <td>{{item.title}}</td>\n    <td>{{item.description}}</td>\n  </tr>\n</table>",
      link: function(scope){
        scope.sort = 'title';
        scope.reverseSort = true;
      }
    }
  })
</script>
</body>
</html>